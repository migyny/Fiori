<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Checkout - Fiori</title>

  <!--fonts-->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link
    href="https://fonts.googleapis.com/css2?family=Rosarivo:ital@0;1&family=Public+Sans:wght@300;400;500;700&family=Playfair+Display:wght@700&family=Plus+Jakarta+Sans:wght@500;600&family=Inter:wght@400;600&display=swap"
    rel="stylesheet">

  <!--styles-->
  <link rel="stylesheet" href="catalogue.css">
  <link rel="stylesheet" href="cart.css">
  <link rel="stylesheet" href="checkout.css">

  <!--cart script-->
  <script src="cart.js"></script>
</head>

<body>

  <!--top banner-->
  <div class="top-banner"> Free Same Day Delivery for Orders Over $44.99. *Exclusions Apply.</div>

  <!--header-->
  <div class="header">
    <div class="header-content">
      <div class="logo" onclick="location.href='index.html'" style="cursor: pointer;">Fiori</div>
      <div class="nav-buttons">
        <button class="nav-button" onclick="navigateTo('best-sellers')">Best Sellers</button>
        <button class="nav-button" onclick="navigateTo('occasion')">Occasion</button>
        <button class="nav-button" onclick="navigateTo('seasonal')">Seasonal</button>
        <button class="nav-button" onclick="navigateTo('diy')">DIY Bouquets</button>
        <button class="nav-button" onclick="navigateTo('ai')">Build With AI</button>
        <button class="nav-button" onclick="location.href='catalogue.html'">Full Catalog</button>
      </div>
    </div>

    <div class="header-icons">
      <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="1.5">
        <path d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />
      </svg>

      <div class="account-wrapper" style="display:flex; align-items:center; cursor:pointer;">
        <svg class="icon" id="account-button" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="1.5" width="30" height="30">
          <path d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" />
        </svg>
        <span id="account-text" style="margin-left:5px; font-size:14px; color:white;"></span>
      </div>

      <div class="cart-icon-wrapper" onclick="openCart()" style="cursor: pointer;">
        <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="1.5">
          <path d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z" />
        </svg>
        <span id="cart-badge">0</span>
      </div>
    </div>
  </div>

  <!--checkout content-->
  <div class="checkout-container">
    <h1 class="checkout-title">Checkout</h1>

    <!--contact information-->
    <section class="checkout-section">
      <h2 class="section-title">Contact Information</h2>
      <input type="text" id="full-name" class="input-field" placeholder="Full Name">
      <input type="email" id="email" class="input-field" placeholder="Email Address">
      <input type="text" id="phone" class="input-field" placeholder="Phone Number">
    </section>

    <!--shipping address-->
    <section class="checkout-section">
      <h2 class="section-title">Shipping Address</h2>
      <input type="text" id="street" class="input-field" placeholder="Street Address">
      <input type="text" id="city" class="input-field" placeholder="City">
      <input type="text" id="state" class="input-field" placeholder="State / Province">
      <input type="text" id="postal" class="input-field" placeholder="Postal Code">
      <input type="text" id="country" class="input-field" placeholder="Country">
    </section>

    <!--payment method-->
    <section class="checkout-section">
      <h2 class="section-title">Payment Method</h2>
      <input type="text" id="card-name" class="input-field" placeholder="Name on Card">
      <input type="text" id="card-number" class="input-field" placeholder="Card Number">
      <input type="text" id="expiry" class="input-field" placeholder="MM/YY">
      <input type="text" id="cvv" class="input-field" placeholder="CVV">
    </section>

    <!--order summary-->
    <section class="checkout-section">
      <h2 class="section-title">Order Summary</h2>
      <div id="checkout-summary"></div>

      <div class="summary-line">
        <span class="summary-label">Subtotal:</span>
        <span id="subtotal-amount">$0.00</span>
      </div>

      <div class="summary-line">
      <span class="summary-label">Tax:</span>
      <span id="tax-amount">$0.00</span>
      </div>


      <div class="summary-line">
        <span class="summary-label">Shipping:</span>
        <span id="shipping-amount">$0.00</span>
      </div>

      <div class="summary-line total">
        <span class="summary-label">Total:</span>
        <span id="total-amount">$0.00</span>
      </div>
    </section>

    <button class="checkout-btn" id="place-order-btn">Place Order</button>
    <p class="success-message" id="success-message">Order Placed Successfully!</p>
  </div>

  <script src="checkout.js"></script>

  <script>
  document.addEventListener("DOMContentLoaded", () => {
    const user = JSON.parse(localStorage.getItem("fioriUser"));

    if (user) {
      document.getElementById("full-name").value = user.name || "";
      document.getElementById("email").value = user.email || "";
      document.getElementById("phone").value = user.phone || "";

      if (user.address) {
        document.getElementById("street").value = user.address.street || "";
        document.getElementById("city").value = user.address.city || "";
        document.getElementById("state").value = user.address.state || "";
        document.getElementById("postal").value = user.address.postal || "";
        document.getElementById("country").value = user.address.country || "";
      }
    }

    const accountWrapper = document.querySelector(".account-wrapper");
    accountWrapper.addEventListener("click", () => {
      if (user) window.location.href = "account.html";
      else window.location.href = "sign_up.html";
    });
  });
  </script>

  <script src="main.js"></script>

</body>
</html>
